(this["webpackJsonpcharter-assesment-app"]=this["webpackJsonpcharter-assesment-app"]||[]).push([[0],{107:function(e,t,a){e.exports=a(203)},112:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),l=(a(112),a(262)),o=a(63),i=a.n(o),u=a(89),m=a(37),d=a(30),p=a(247),f=a(204),h=a(252),v=a(256),E=a(255),g=a(251),y=a(253),b=a(266),w=a(254),j=function(e){var t=e.data,a=Object(p.a)({paper:{width:"100%"},container:{maxHeight:350},headerBg:{backgroundColor:"black",color:"white"}})(),c=Object(n.useState)(0),s=Object(m.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)(5),u=Object(m.a)(i,2),d=u[0],j=u[1],O=function(){var e=[];if(t.length>=1){var a=function(t){e.push({id:t,label:t,format:function(e){return"date"===t?N(e):e},align:"left"})};for(var n in t[0])a(n)}return e},N=function(e){var t=new Date(e);return t.getMonth()+"/"+t.getDate()+"/"+t.getFullYear()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:a.paper},r.a.createElement(g.a,{className:a.container},r.a.createElement(h.a,{stickyHeader:!0},r.a.createElement(y.a,null,r.a.createElement(w.a,{className:a.headerBg},O().map((function(e,t){return r.a.createElement(E.a,{key:t},e.label)})))),r.a.createElement(v.a,null,t.slice(l*d,l*d+d).map((function(e){return r.a.createElement(w.a,{tabIndex:-1,key:e.id},O().map((function(t,a){var n=e[t.label];return r.a.createElement(E.a,{key:a,align:t.align},t.format&&"string"===typeof n?t.format(n):n)})))}))))),r.a.createElement(b.a,{rowsPerPageOptions:[5,10,15],component:"div",count:t.length,rowsPerPage:d,page:l,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){j(e.target.value),o(0)}})))},O=a(267),N=a(265),C=function(e){var t=r.a.createElement("div",{style:{padding:20}},r.a.createElement(N.a,{options:e.data,value:e.selectedItem,onChange:function(t,a){e.onChange(a)},getOptionLabel:function(t){return t[e.label]},style:{width:300},renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{label:"Search User",variant:"outlined"}))}}));return r.a.createElement("div",null,t)},_=a(96),k=a.n(_),D=["January","February","March","April","May","June","July","August","September","October","November","December"],x=function(e,t){return e.filter((function(e){return new Date(e.date).getMonth()===t})).reduce((function(e,t){return e+function(e){var t=0,a=0;return e/50===1?a=e-50:e/50>1&&(a=50,t=2*(e-100)),t+a}(t.amount)}),0)},R=function(e){var t=(new Date).getMonth(),a=x(e.transactionData,t),n=x(e.transactionData,t-1),c=x(e.transactionData,t-2),s=Object(p.a)({rewards_summary:{width:"100%",padding:20},summary_type:{margin:15,display:"flex",justifyContent:"flex-end",alignContent:"center"},type:{fontWeight:300,paddingRight:20},type_rewards:{fontWeight:500}})();return r.a.createElement("div",{className:s.rewards_summary},r.a.createElement("h2",null," Selected User Rewards Summary"),r.a.createElement("div",{className:s.summary_type},r.a.createElement("div",{className:s.type},"Rewards Earned in Current Months"),r.a.createElement("div",{className:s.type_rewards},a)),r.a.createElement("div",{className:s.summary_type},r.a.createElement("div",{className:s.type},"Rewards Earned in Previous Month"),r.a.createElement("div",{className:s.type_rewards},n)),r.a.createElement("div",{className:s.summary_type},r.a.createElement("div",{className:s.type},"Rewards Earned in "+D[t-2]+"Month"," "),r.a.createElement("div",{className:s.type_rewards},x(e.transactionData,t-2))),r.a.createElement("hr",null),r.a.createElement("div",{className:s.summary_type},r.a.createElement("div",{className:s.type},"Total Rewards Earned in last 3 Months "),r.a.createElement("div",{className:s.type_rewards},a+n+c)))},M={selectedCustomer:{name:""},transactions:[]},P=function(e,t){switch(t.type){case"select_customer":return Object(d.a)(Object(d.a)({},e),{},{selectedCustomer:t.payload});case"add_data":return Object(d.a)(Object(d.a)({},e),{},{transactions:t.payload});case"reset":return Object(d.a)(Object(d.a)({},e),{},{selectedCustomer:null});default:throw new Error}},S=function(e){var t=Object(n.useReducer)(P,M),a=Object(m.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(m.a)(l,2),d=o[0],p=o[1],f={name:""};Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("transactionsData.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s({type:"add_data",payload:a.data}),console.log(a.data),d&&p(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),p(!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var h=function(e){return c.transactions.filter((function(t){return t.customerName===e}))},v=d?r.a.createElement("div",null,"Error Retreiving Transactions Data"):null;return r.a.createElement(r.a.Fragment,null,v,r.a.createElement(C,{selectedItem:c.selectedCustomer,data:function(){var e=[];return k()(c.transactions,"customerName").forEach((function(t){e.push({name:t.customerName})})),e}(),onChange:function(e){s({type:"select_customer",payload:e||f})},label:"name"}),r.a.createElement(j,function(){var e=c.selectedCustomer.name;return{data:e?h(e):c.transactions}}()),function(){var e=c.selectedCustomer.name;return e?r.a.createElement(R,{transactionData:h(e)}):null}())},I=a(263),J=a(258),B=Object(p.a)((function(e){return{title:{flexGrow:1,padding:15}}})),F=function(){var e=B();return r.a.createElement(l.a,null,r.a.createElement(I.a,{position:"static"},r.a.createElement(J.a,{variant:"h4",className:e.title},"Customer Transactions & Rewards")),r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.3718bd1d.chunk.js.map